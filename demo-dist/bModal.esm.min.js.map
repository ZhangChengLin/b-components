{"version":3,"file":"bModal.esm.min.js","sources":["../src/util/index.js","../src/modal/js/bModal.js","../src/modal/js/util/index.js"],"sourcesContent":["const isNull = value => value === null\r\nconst isEmpty = value => typeof value === 'string' && value === ''\r\n\r\nconst bsDismissBtn = (dismissType, whiteVariant = false) => {\r\n  const btn = document.createElement('button')\r\n\r\n  btn.className = whiteVariant ? 'btn-close btn-close-white' : 'btn-close'\r\n  btn.type = 'button'\r\n  btn.dataset.bsDismiss = dismissType\r\n  btn.ariaLabel = 'Close'\r\n\r\n  return btn\r\n}\r\n\r\nconst getTimeString = () => Date.now().toString()\r\n\r\nexport {\r\n  isNull,\r\n  isEmpty,\r\n  getTimeString,\r\n  bsDismissBtn\r\n}\r\n","import {Modal} from 'bootstrap'\r\nimport {modalEvents, removeModal, getTimeString, isNull, isEmpty, bsDismissBtn} from './util/index'\r\n\r\n/**\r\n * @param {String} modalId\r\n */\r\nconst modal = (modalId) => {\r\n  const _modal = document.createElement('div')\r\n\r\n  _modal.className = 'modal fade'\r\n  _modal.id = modalId\r\n  _modal.tabIndex = -1\r\n  _modal.role = 'dialog'\r\n  _modal.setAttribute('aria-labelledby', 'modalTitleLabel')\r\n\r\n  return _modal\r\n}\r\n\r\n/**\r\n * @param {String} ModalSizes\r\n * @param VerticallyCentered\r\n * @param ScrollingLongContent\r\n */\r\nconst dialog = (ModalSizes = '', VerticallyCentered = false, ScrollingLongContent = false) => {\r\n  const _dialog = document.createElement('div')\r\n\r\n  _dialog.className = 'modal-dialog'\r\n\r\n  switch (ModalSizes) {\r\n    case 'sm':\r\n      _dialog.classList.add('modal-sm')\r\n      break\r\n    case 'lg':\r\n      _dialog.classList.add('modal-lg')\r\n      break\r\n    case 'xl':\r\n      _dialog.classList.add('modal-xl')\r\n      break\r\n    case 'full':\r\n      _dialog.classList.add('modal-fullscreen')\r\n      break\r\n    case 'full-sm':\r\n      _dialog.classList.add('modal-fullscreen-sm-down')\r\n      break\r\n    case 'full-md':\r\n      _dialog.classList.add('modal-fullscreen-md-down')\r\n      break\r\n    case 'full-lg':\r\n      _dialog.classList.add('modal-fullscreen-lg-down')\r\n      break\r\n    case 'full-xl':\r\n      _dialog.classList.add('modal-fullscreen-xl-down')\r\n      break\r\n    case '':\r\n    case 'default':\r\n      break\r\n    default:\r\n      _dialog.classList.add(ModalSizes)\r\n      break\r\n  }\r\n\r\n  switch (VerticallyCentered) {\r\n    case true:\r\n      _dialog.classList.add('modal-dialog-centered')\r\n      break\r\n    case false:\r\n    default:\r\n  }\r\n\r\n  switch (ScrollingLongContent) {\r\n    case true:\r\n      _dialog.classList.add('modal-dialog-scrollable')\r\n      break\r\n    case false:\r\n    default:\r\n  }\r\n\r\n  return _dialog\r\n}\r\n\r\nconst content = () => {\r\n  const _content = document.createElement('div')\r\n\r\n  _content.className = 'modal-content'\r\n\r\n  return _content\r\n}\r\n\r\n/**\r\n * @param {Node|String|Function} headerNodeElement\r\n */\r\nconst header = (headerNodeElement) => {\r\n  if (isNull(headerNodeElement) || isEmpty(headerNodeElement)) {\r\n    return ''\r\n  }\r\n\r\n  const _header = document.createElement('div')\r\n  const _title = document.createElement('h5')\r\n\r\n  _header.className = 'modal-header'\r\n\r\n  _title.className = 'modal-title'\r\n  _title.id = 'modalTitleLabel'\r\n  headerNodeElement instanceof Function\r\n    ? _title.append(headerNodeElement())\r\n    : headerNodeElement instanceof HTMLElement\r\n      ? _title.append(headerNodeElement)\r\n      : _title.innerHTML = headerNodeElement\r\n\r\n  _header.append(_title, bsDismissBtn('modal'))\r\n\r\n  return _header\r\n}\r\n\r\n/**\r\n * @param {Node|String|Function} bodyNodeElement\r\n */\r\nconst body = (bodyNodeElement) => {\r\n  const _body = document.createElement('div')\r\n\r\n  _body.className = 'modal-body'\r\n  bodyNodeElement instanceof Function\r\n    ? _body.append(bodyNodeElement())\r\n    : bodyNodeElement instanceof HTMLElement\r\n      ? _body.append(bodyNodeElement)\r\n      : _body.innerHTML = bodyNodeElement\r\n\r\n  return _body\r\n}\r\n\r\n/**\r\n * @param {Node|String|Function} footerNodeElement\r\n */\r\nconst footer = (footerNodeElement) => {\r\n  if (isNull(footerNodeElement) || isEmpty(footerNodeElement)) {\r\n    return ''\r\n  }\r\n\r\n  const _footer = document.createElement('div')\r\n\r\n  _footer.className = 'modal-footer'\r\n  footerNodeElement instanceof Function\r\n    ? _footer.append(footerNodeElement())\r\n    : footerNodeElement instanceof HTMLElement\r\n      ? _footer.append(footerNodeElement)\r\n      : _footer.innerHTML = footerNodeElement\r\n\r\n  return _footer\r\n}\r\n\r\n/**\r\n * @param {Node|String|Function|null} headerNodeElement\r\n * @param {Node|String|Function|null} bodyNodeElement\r\n * @param {Node|String|Function|null} footerNodeElement\r\n * @param {String|null} ModalSizes\r\n * @param {Boolean|null} VerticallyCentered\r\n * @param {Boolean|null} ScrollingLongContent\r\n * @param {Object|null} Options\r\n * @param {String|null} EventsType\r\n * @param {Function|null} EventsFunction\r\n */\r\nconst bModal = (headerNodeElement, bodyNodeElement, footerNodeElement, ModalSizes, VerticallyCentered, ScrollingLongContent, Options, EventsType, EventsFunction) => {\r\n  const modalId = 'modalId_' + getTimeString()\r\n\r\n  const _modal = modal(modalId)\r\n  const _dialog = dialog(ModalSizes, VerticallyCentered, ScrollingLongContent)\r\n  const _content = content()\r\n  const _header = header(headerNodeElement)\r\n  const _body = body(bodyNodeElement)\r\n  const _footer = footer(footerNodeElement)\r\n\r\n  _content.append(_header, _body, _footer)\r\n  _dialog.append(_content)\r\n  _modal.append(_dialog)\r\n  document.body.append(_modal)\r\n\r\n  EventsType && EventsFunction ? modalEvents(_modal, EventsType, EventsFunction) : ''\r\n\r\n  const xxx = Options ? new Modal(_modal, Options) : new Modal(_modal)\r\n  xxx.show()\r\n  removeModal(_modal)\r\n  return modalId\r\n}\r\n\r\nexport default bModal\r\n","import {Modal} from 'bootstrap'\r\nexport * from '../../../util/index'\r\n\r\n/**\r\n * @param {HTMLElement} _modal\r\n * @param {String} eventsType\r\n * @param {function} eventsFun\r\n */\r\nconst modalEvents = (_modal, eventsType, eventsFun) => {\r\n  switch (eventsType) {\r\n    case 'show':\r\n      _modal.addEventListener('show.bs.modal', () => eventsFun())\r\n      break\r\n    case 'shown':\r\n      _modal.addEventListener('shown.bs.modal', () => eventsFun())\r\n      break\r\n    case 'hide':\r\n      _modal.addEventListener('hide.bs.modal', () => eventsFun())\r\n      break\r\n    case 'hidden':\r\n      _modal.addEventListener('hidden.bs.modal', () => eventsFun())\r\n      break\r\n    case 'hidePrevented':\r\n      _modal.addEventListener('hidePrevented.bs.modal', () => eventsFun())\r\n      break\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * @param {HTMLElement} _modal\r\n */\r\nconst removeModal = _modal => {\r\n  _modal.addEventListener('hidden.bs.modal', () => {\r\n    const x = Modal.getInstance(_modal)\r\n    x.dispose()\r\n    setTimeout(() => {\r\n      _modal.remove()\r\n    }, 2e3)\r\n  })\r\n}\r\n\r\nexport {\r\n  modalEvents,\r\n  removeModal\r\n}\r\n"],"names":["isNull","value","isEmpty","header","headerNodeElement","_header","document","createElement","_title","className","id","Function","append","HTMLElement","innerHTML","dismissType","whiteVariant","btn","type","dataset","bsDismiss","ariaLabel","bsDismissBtn","bModal","bodyNodeElement","footerNodeElement","ModalSizes","VerticallyCentered","ScrollingLongContent","Options","EventsType","EventsFunction","modalId","Date","now","toString","_modal","tabIndex","role","setAttribute","modal","_dialog","classList","add","dialog","_content","content","_body","body","_footer","footer","eventsType","eventsFun","addEventListener","modalEvents","Modal","show","getInstance","dispose","setTimeout","remove","removeModal"],"mappings":";;;;;kCAAA,MAAMA,EAASC,GAAmB,OAAVA,EAClBC,EAAUD,GAA0B,iBAAVA,GAAgC,KAAVA,EC0FhDE,EAAUC,IACd,GAAIJ,EAAOI,IAAsBF,EAAQE,GACvC,MAAO,GAGT,MAAMC,EAAUC,SAASC,cAAc,OACjCC,EAASF,SAASC,cAAc,MActC,OAZAF,EAAQI,UAAY,eAEpBD,EAAOC,UAAY,cACnBD,EAAOE,GAAK,kBACZN,aAA6BO,SACzBH,EAAOI,OAAOR,KACdA,aAA6BS,YAC3BL,EAAOI,OAAOR,GACdI,EAAOM,UAAYV,EAEzBC,EAAQO,OAAOJ,ED1GI,EAACO,EAAaC,GAAe,KAChD,MAAMC,EAAMX,SAASC,cAAc,UAOnC,OALAU,EAAIR,UAAYO,EAAe,4BAA8B,YAC7DC,EAAIC,KAAO,SACXD,EAAIE,QAAQC,UAAYL,EACxBE,EAAII,UAAY,QAETJ,GCkGgBK,CAAa,UAE7BjB,GAkDHkB,EAAS,CAACnB,EAAmBoB,EAAiBC,EAAmBC,EAAYC,EAAoBC,EAAsBC,EAASC,EAAYC,KAChJ,MAAMC,EAAU,WDpJUC,KAAKC,MAAMC,WCsJ/BC,EA9JM,CAACJ,IACb,MAAMI,EAAS9B,SAASC,cAAc,OAQtC,OANA6B,EAAO3B,UAAY,aACnB2B,EAAO1B,GAAKsB,EACZI,EAAOC,UAAY,EACnBD,EAAOE,KAAO,SACdF,EAAOG,aAAa,kBAAmB,mBAEhCH,GAqJQI,CAAMR,GACfS,EA9IO,EAACf,EAAa,GAAIC,GAAqB,EAAOC,GAAuB,KAClF,MAAMa,EAAUnC,SAASC,cAAc,OAIvC,OAFAkC,EAAQhC,UAAY,eAEZiB,GACN,IAAK,KACHe,EAAQC,UAAUC,IAAI,YACtB,MACF,IAAK,KACHF,EAAQC,UAAUC,IAAI,YACtB,MACF,IAAK,KACHF,EAAQC,UAAUC,IAAI,YACtB,MACF,IAAK,OACHF,EAAQC,UAAUC,IAAI,oBACtB,MACF,IAAK,UACHF,EAAQC,UAAUC,IAAI,4BACtB,MACF,IAAK,UACHF,EAAQC,UAAUC,IAAI,4BACtB,MACF,IAAK,UACHF,EAAQC,UAAUC,IAAI,4BACtB,MACF,IAAK,UACHF,EAAQC,UAAUC,IAAI,4BACtB,MACF,IAAK,GACL,IAAK,UACH,MACF,QACEF,EAAQC,UAAUC,IAAIjB,IAKnB,IADCC,GAEJc,EAAQC,UAAUC,IAAI,0BAOnB,IADCf,GAEJa,EAAQC,UAAUC,IAAI,2BAM1B,OAAOF,GAwFSG,CAAOlB,EAAYC,EAAoBC,GACjDiB,EAtFQ,MACd,MAAMA,EAAWvC,SAASC,cAAc,OAIxC,OAFAsC,EAASpC,UAAY,gBAEdoC,GAiFUC,GACXzC,EAAUF,EAAOC,GACjB2C,EAnDK,CAACvB,IACZ,MAAMuB,EAAQzC,SAASC,cAAc,OASrC,OAPAwC,EAAMtC,UAAY,aAClBe,aAA2Bb,SACvBoC,EAAMnC,OAAOY,KACbA,aAA2BX,YACzBkC,EAAMnC,OAAOY,GACbuB,EAAMjC,UAAYU,EAEjBuB,GAyCOC,CAAKxB,GACbyB,EApCO,CAACxB,IACd,GAAIzB,EAAOyB,IAAsBvB,EAAQuB,GACvC,MAAO,GAGT,MAAMwB,EAAU3C,SAASC,cAAc,OASvC,OAPA0C,EAAQxC,UAAY,eACpBgB,aAA6Bd,SACzBsC,EAAQrC,OAAOa,KACfA,aAA6BZ,YAC3BoC,EAAQrC,OAAOa,GACfwB,EAAQnC,UAAYW,EAEnBwB,GAsBSC,CAAOzB,GAEvBoB,EAASjC,OAAOP,EAAS0C,EAAOE,GAChCR,EAAQ7B,OAAOiC,GACfT,EAAOxB,OAAO6B,GACdnC,SAAS0C,KAAKpC,OAAOwB,GAErBN,GAAcC,GCxKI,EAACK,EAAQe,EAAYC,KACvC,OAAQD,GACN,IAAK,OACHf,EAAOiB,iBAAiB,iBAAiB,IAAMD,MAC/C,MACF,IAAK,QACHhB,EAAOiB,iBAAiB,kBAAkB,IAAMD,MAChD,MACF,IAAK,OACHhB,EAAOiB,iBAAiB,iBAAiB,IAAMD,MAC/C,MACF,IAAK,SACHhB,EAAOiB,iBAAiB,mBAAmB,IAAMD,MACjD,MACF,IAAK,gBACHhB,EAAOiB,iBAAiB,0BAA0B,IAAMD,QDyJ7BE,CAAYlB,EAAQN,EAAYC,GAK/D,OAHYF,EAAU,IAAI0B,EAAMnB,EAAQP,GAAW,IAAI0B,EAAMnB,IACzDoB,OClJcpB,CAAAA,IAClBA,EAAOiB,iBAAiB,mBAAmB,KAC/BE,EAAME,YAAYrB,GAC1BsB,UACFC,YAAW,KACTvB,EAAOwB,WACN,SD6ILC,CAAYzB,GACLJ"}